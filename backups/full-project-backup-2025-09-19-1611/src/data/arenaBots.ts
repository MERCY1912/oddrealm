import { ArenaBot, ArenaBotDifficulty, ArenaBotType } from '@/types/game';
import garoldBotImage from '@/assets/bots_img/garold_bot.jpg';

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤ —Å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏
const createArenaBot = (
  id: string,
  name: string,
  level: number,
  difficulty: ArenaBotDifficulty,
  botType: ArenaBotType,
  description: string,
  baseStats: {
    strength: number;
    dexterity: number;
    luck: number;
    endurance: number;
  }
): ArenaBot => {
  // –ë–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 1 (–∫–∞–∫ —É –∏–≥—Ä–æ–∫–∞)
  const baseLevel1Stats = {
    health: 100,
    attack: 10,
    defense: 5,
    experience: 50,
    gold: 25,
    critChance: 5,
    dodgeChance: 5,
    blockChance: 5
  };

  // –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  const difficultyMultipliers = {
    easy: { health: 0.8, attack: 0.8, defense: 0.8, experience: 0.8, gold: 0.8 },
    medium: { health: 1.0, attack: 1.0, defense: 1.0, experience: 1.0, gold: 1.0 },
    hard: { health: 1.2, attack: 1.2, defense: 1.2, experience: 1.2, gold: 1.2 }
  };

  // –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –±–æ—Ç–æ–≤
  const typeMultipliers = {
    warrior: { health: 1.2, attack: 1.1, defense: 1.1, critChance: 0.8, dodgeChance: 0.7, blockChance: 1.3 },
    mage: { health: 0.8, attack: 1.3, defense: 0.7, critChance: 1.2, dodgeChance: 1.1, blockChance: 0.6 },
    archer: { health: 0.9, attack: 1.2, defense: 0.9, critChance: 1.3, dodgeChance: 1.2, blockChance: 0.8 },
    rogue: { health: 0.8, attack: 1.1, defense: 0.8, critChance: 1.4, dodgeChance: 1.4, blockChance: 0.7 },
    paladin: { health: 1.3, attack: 1.0, defense: 1.2, critChance: 0.9, dodgeChance: 0.8, blockChance: 1.4 },
    berserker: { health: 1.1, attack: 1.4, defense: 0.9, critChance: 1.1, dodgeChance: 0.6, blockChance: 0.8 }
  };

  const diffMult = difficultyMultipliers[difficulty];
  const typeMult = typeMultipliers[botType];

  // –†–∞—Å—á–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Å —É—á–µ—Ç–æ–º —É—Ä–æ–≤–Ω—è
  const levelMultiplier = 1 + (level - 1) * 0.2; // +20% –∑–∞ –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å

  const health = Math.round(baseLevel1Stats.health * diffMult.health * typeMult.health * levelMultiplier);
  const attack = Math.round(baseLevel1Stats.attack * diffMult.attack * typeMult.attack * levelMultiplier);
  const defense = Math.round(baseLevel1Stats.defense * diffMult.defense * typeMult.defense * levelMultiplier);
  const experience = Math.round(baseLevel1Stats.experience * diffMult.experience * levelMultiplier);
  const gold = Math.round(baseLevel1Stats.gold * diffMult.gold * levelMultiplier);

  return {
    id,
    name,
    level,
    health,
    maxHealth: health,
    attack,
    defense,
    experience,
    gold,
    difficulty,
    image: getBotImage(id, botType),
    strength: baseStats.strength,
    dexterity: baseStats.dexterity,
    luck: baseStats.luck,
    endurance: baseStats.endurance,
    critChance: Math.round(baseLevel1Stats.critChance * typeMult.critChance * levelMultiplier),
    dodgeChance: Math.round(baseLevel1Stats.dodgeChance * typeMult.dodgeChance * levelMultiplier),
    blockChance: Math.round(baseLevel1Stats.blockChance * typeMult.blockChance * levelMultiplier),
    description,
    botType
  };
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–º–æ–¥–∑–∏ –ø–æ —Ç–∏–ø—É –±–æ—Ç–∞
const getBotEmoji = (botType: ArenaBotType): string => {
  const emojis = {
    warrior: '‚öîÔ∏è',
    mage: 'üîÆ',
    archer: 'üèπ',
    rogue: 'üó°Ô∏è',
    paladin: 'üõ°Ô∏è',
    berserker: '‚ö°'
  };
  return emojis[botType];
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–æ—Ç–∞
const getBotImage = (id: string, botType: ArenaBotType): string => {
  // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏ –¥–ª—è –±–æ—Ç–æ–≤ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
  if (id === 'bot-1-1-easy') {
    return garoldBotImage;
  }
  
  // –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –±–æ—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º —ç–º–æ–¥–∑–∏
  return getBotEmoji(botType);
};

// –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è
export const arenaBots: ArenaBot[] = [
  // –£—Ä–æ–≤–µ–Ω—å 1 - –õ–µ–≥–∫–∏–µ –±–æ—Ç—ã
  createArenaBot(
    'bot-1-1-easy',
    '–ì–∞—Ä–æ–ª—å–¥ –ñ–µ–ª–µ–∑–Ω—ã–π –ö—É–ª–∞–∫',
    1,
    'easy',
    'warrior',
    '–ú–æ–ª–æ–¥–æ–π –≤–æ–∏–Ω –∏–∑ —Å–µ–≤–µ—Ä–Ω—ã—Ö –∑–µ–º–µ–ª—å, –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–≤–æ–µ–π —Å–∏–ª–æ–π.',
    { strength: 12, dexterity: 8, luck: 10, endurance: 10 }
  ),
  createArenaBot(
    'bot-1-2-easy',
    '–ú–µ—Ä–ª–∏–Ω –ú–ª–∞–¥—à–∏–π',
    1,
    'easy',
    'mage',
    '–£—á–µ–Ω–∏–∫ –¥—Ä–µ–≤–Ω–∏—Ö –º–∞–≥–æ–≤, –∏–∑—É—á–∞—é—â–∏–π –æ—Å–Ω–æ–≤—ã –≤–æ–ª—à–µ–±—Å—Ç–≤–∞.',
    { strength: 6, dexterity: 10, luck: 14, endurance: 8 }
  ),
  createArenaBot(
    'bot-1-3-easy',
    '–†–æ–±–∏–Ω –ó–µ–ª–µ–Ω—ã–π',
    1,
    'easy',
    'archer',
    '–ú–æ–ª–æ–¥–æ–π –ª—É—á–Ω–∏–∫ –∏–∑ –®–µ—Ä–≤—É–¥—Å–∫–æ–≥–æ –ª–µ—Å–∞.',
    { strength: 8, dexterity: 14, luck: 12, endurance: 6 }
  ),

  // –£—Ä–æ–≤–µ–Ω—å 1 - –°—Ä–µ–¥–Ω–∏–µ –±–æ—Ç—ã
  createArenaBot(
    'bot-1-1-medium',
    '–°—ç—Ä –ì–æ–¥—Ñ—Ä–∏',
    1,
    'medium',
    'warrior',
    '–û–ø—ã—Ç–Ω—ã–π —Ä—ã—Ü–∞—Ä—å, —Å–ª—É–∂–∏–≤—à–∏–π –≤ –∫–æ—Ä–æ–ª–µ–≤—Å–∫–æ–π –≥–≤–∞—Ä–¥–∏–∏.',
    { strength: 15, dexterity: 10, luck: 10, endurance: 12 }
  ),
  createArenaBot(
    'bot-1-2-medium',
    '–í–æ–ª–¥–µ–º–∞—Ä –¢–µ–Ω–µ–≤–æ–π',
    1,
    'medium',
    'mage',
    '–ú–∞–≥-–ø—Ä–∞–∫—Ç–∏–∫, –∏–∑—É—á–∞—é—â–∏–π —Ç–µ–º–Ω—ã–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞.',
    { strength: 8, dexterity: 12, luck: 16, endurance: 10 }
  ),
  createArenaBot(
    'bot-1-3-medium',
    '–õ–æ—Ä–¥ –•–æ–∫–≤—É–¥',
    1,
    'medium',
    'archer',
    '–ë–ª–∞–≥–æ—Ä–æ–¥–Ω—ã–π –ª—É—á–Ω–∏–∫, –º–∞—Å—Ç–µ—Ä –¥–∞–ª—å–Ω–µ–≥–æ –±–æ—è.',
    { strength: 10, dexterity: 16, luck: 14, endurance: 8 }
  ),

  // –£—Ä–æ–≤–µ–Ω—å 1 - –°–ª–æ–∂–Ω—ã–µ –±–æ—Ç—ã
  createArenaBot(
    'bot-1-1-hard',
    '–¢–æ—Ä–≤–∞–ª—å–¥ –ë–µ—Ä—Å–µ—Ä–∫',
    1,
    'hard',
    'warrior',
    '–í–∏–∫–∏–Ω–≥-–±–µ—Ä—Å–µ—Ä–∫, –Ω–µ –∑–Ω–∞—é—â–∏–π —Å—Ç—Ä–∞—Ö–∞ –≤ –±–æ—é.',
    { strength: 18, dexterity: 12, luck: 10, endurance: 15 }
  ),
  createArenaBot(
    'bot-1-2-hard',
    '–ê—Ä—Ö–∏–º–∞–≥ –ú–æ—Ä–≥–∞–Ω–∞',
    1,
    'hard',
    'mage',
    '–ú–æ—â–Ω–∞—è –≤–æ–ª—à–µ–±–Ω–∏—Ü–∞ —Å –¥—Ä–µ–≤–Ω–∏–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏.',
    { strength: 10, dexterity: 14, luck: 18, endurance: 12 }
  ),
  createArenaBot(
    'bot-1-3-hard',
    '–°–Ω–∞–π–ø–µ—Ä –£–∏–ª—å—è–º',
    1,
    'hard',
    'archer',
    '–≠–ª–∏—Ç–Ω—ã–π –ª—É—á–Ω–∏–∫ —Å –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é.',
    { strength: 12, dexterity: 18, luck: 16, endurance: 10 }
  ),

  // –£—Ä–æ–≤–µ–Ω—å 2 - –õ–µ–≥–∫–∏–µ –±–æ—Ç—ã
  createArenaBot(
    'bot-2-1-easy',
    '–°—Ç—Ä–∞–∂–Ω–∏–∫ –ë–æ—Ä–∏—Å',
    2,
    'easy',
    'warrior',
    '–í–µ—Ä–Ω—ã–π —Å—Ç—Ä–∞–∂–Ω–∏–∫ –∑–∞–º–∫–∞, –∑–∞—â–∏—â–∞—é—â–∏–π –ø–æ–∫–æ–π –∂–∏—Ç–µ–ª–µ–π.',
    { strength: 14, dexterity: 10, luck: 12, endurance: 12 }
  ),
  createArenaBot(
    'bot-2-2-easy',
    '–ê–ª—Ö–∏–º–∏–∫ –§–∞—É—Å—Ç',
    2,
    'easy',
    'mage',
    '–ú–∞–≥-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å, –∏–∑—É—á–∞—é—â–∏–π –¥—Ä–µ–≤–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã.',
    { strength: 8, dexterity: 12, luck: 16, endurance: 10 }
  ),
  createArenaBot(
    'bot-2-3-easy',
    '–°–ª–µ–¥–æ–ø—ã—Ç –ê—Ä–∞–≥–æ—Ä–Ω',
    2,
    'easy',
    'archer',
    '–û—Ö–æ—Ç–Ω–∏–∫, –∑–Ω–∞—é—â–∏–π –≤—Å–µ —Ç—Ä–æ–ø—ã –∏ —Å–µ–∫—Ä–µ—Ç—ã –ª–µ—Å–∞.',
    { strength: 10, dexterity: 16, luck: 14, endurance: 8 }
  ),

  // –£—Ä–æ–≤–µ–Ω—å 2 - –°—Ä–µ–¥–Ω–∏–µ –±–æ—Ç—ã
  createArenaBot(
    'bot-2-1-medium',
    '–ö–∞–ø–∏—Ç–∞–Ω –†–∏—á–∞—Ä–¥',
    2,
    'medium',
    'warrior',
    '–û–ø—ã—Ç–Ω—ã–π –∫–æ–º–∞–Ω–¥–∏—Ä —Å —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –º—ã—à–ª–µ–Ω–∏–µ–º.',
    { strength: 17, dexterity: 12, luck: 12, endurance: 14 }
  ),
  createArenaBot(
    'bot-2-2-medium',
    '–≠–ª–µ–º–µ–Ω—Ç–∞–ª–∏—Å—Ç –ó–∞—Ä–∞',
    2,
    'medium',
    'mage',
    '–ú–∞–≥, –≤–ª–∞–¥–µ—é—â–∏–π —Å–∏–ª–∞–º–∏ —Å—Ç–∏—Ö–∏–π.',
    { strength: 10, dexterity: 14, luck: 18, endurance: 12 }
  ),
  createArenaBot(
    'bot-2-3-medium',
    '–†–µ–π–Ω–¥–∂–µ—Ä –õ–µ–≥–æ–ª–∞—Å',
    2,
    'medium',
    'archer',
    '–≠–∫—Å–ø–µ—Ä—Ç –ø–æ –≤—ã–∂–∏–≤–∞–Ω–∏—é –∏ —Å—Ç—Ä–µ–ª—å–±–µ.',
    { strength: 12, dexterity: 18, luck: 16, endurance: 10 }
  ),

  // –£—Ä–æ–≤–µ–Ω—å 2 - –°–ª–æ–∂–Ω—ã–µ –±–æ—Ç—ã
  createArenaBot(
    'bot-2-1-hard',
    '–ß–µ–º–ø–∏–æ–Ω –ê—Ä—Ç—É—Ä',
    2,
    'hard',
    'warrior',
    '–ü–æ–±–µ–¥–∏—Ç–µ–ª—å –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ç—É—Ä–Ω–∏—Ä–æ–≤ –∏ –ø–æ–µ–¥–∏–Ω–∫–æ–≤.',
    { strength: 20, dexterity: 14, luck: 12, endurance: 17 }
  ),
  createArenaBot(
    'bot-2-2-hard',
    '–ù–µ–∫—Ä–æ–º–∞–Ω—Ç –í–ª–∞–¥—ã–∫–∞',
    2,
    'hard',
    'mage',
    '–¢–µ–º–Ω—ã–π –º–∞–≥, –∏–∑—É—á–∞—é—â–∏–π –∑–∞–ø—Ä–µ—Ç–Ω—ã–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞.',
    { strength: 12, dexterity: 16, luck: 20, endurance: 14 }
  ),
  createArenaBot(
    'bot-2-3-hard',
    '–¢–µ–Ω–µ–≤–æ–π –ê—Å—Å–∞—Å–∏–Ω',
    2,
    'hard',
    'archer',
    '–ú–∞—Å—Ç–µ—Ä —Å–∫—Ä—ã—Ç–Ω–æ—Å—Ç–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏.',
    { strength: 14, dexterity: 20, luck: 18, endurance: 12 }
  ),

  // –£—Ä–æ–≤–µ–Ω—å 3 - –õ–µ–≥–∫–∏–µ –±–æ—Ç—ã
  createArenaBot(
    'bot-3-1-easy',
    '–ù–∞–µ–º–Ω–∏–∫ –î—Ä–∞–∫–æ',
    3,
    'easy',
    'warrior',
    '–û–ø—ã—Ç–Ω—ã–π –Ω–∞–µ–º–Ω–∏–∫ —Å –±–æ–≥–∞—Ç—ã–º –±–æ–µ–≤—ã–º –æ–ø—ã—Ç–æ–º.',
    { strength: 16, dexterity: 12, luck: 14, endurance: 14 }
  ),
  createArenaBot(
    'bot-3-2-easy',
    '–ê–ª—Ö–∏–º–∏–∫ –ü–∞—Ä–∞—Ü–µ–ª—å—Å',
    3,
    'easy',
    'mage',
    '–ú–∞–≥, –∏–∑—É—á–∞—é—â–∏–π —Ç–∞–π–Ω—ã –∞–ª—Ö–∏–º–∏–∏ –∏ —Ç—Ä–∞–Ω—Å–º—É—Ç–∞—Ü–∏–∏.',
    { strength: 10, dexterity: 14, luck: 18, endurance: 12 }
  ),
  createArenaBot(
    'bot-3-3-easy',
    '–û—Ö–æ—Ç–Ω–∏–∫ –í–∞–Ω –•–µ–ª—å—Å–∏–Ω–≥',
    3,
    'easy',
    'archer',
    '–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –æ—Ö–æ—Ç–µ –Ω–∞ –Ω–µ–∂–∏—Ç—å –∏ –¥–µ–º–æ–Ω–æ–≤.',
    { strength: 12, dexterity: 18, luck: 16, endurance: 10 }
  ),

  // –£—Ä–æ–≤–µ–Ω—å 3 - –°—Ä–µ–¥–Ω–∏–µ –±–æ—Ç—ã
  createArenaBot(
    'bot-3-1-medium',
    '–ü–∞–ª–∞–¥–∏–Ω –õ–∞–Ω—Å–µ–ª–æ—Ç',
    3,
    'medium',
    'paladin',
    '–°–≤—è—Ç–æ–π –≤–æ–∏–Ω, –∑–∞—â–∏—â–∞—é—â–∏–π —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å.',
    { strength: 19, dexterity: 14, luck: 14, endurance: 16 }
  ),
  createArenaBot(
    'bot-3-2-medium',
    '–ò–ª–ª—é–∑–∏–æ–Ω–∏—Å—Ç –ì—ç–Ω–¥–∞–ª—å—Ñ',
    3,
    'medium',
    'mage',
    '–ú–∞—Å—Ç–µ—Ä –∏–ª–ª—é–∑–∏–π –∏ –æ–±–º–∞–Ω–∞.',
    { strength: 12, dexterity: 16, luck: 20, endurance: 14 }
  ),
  createArenaBot(
    'bot-3-3-medium',
    '–ë–µ—Ä—Å–µ—Ä–∫ –†–∞–≥–Ω–∞—Ä',
    3,
    'medium',
    'berserker',
    '–ë–µ–∑—É–º–Ω—ã–π –≤–æ–∏–Ω, –≤–ø–∞–¥–∞—é—â–∏–π –≤ –±–æ–µ–≤—É—é —è—Ä–æ—Å—Ç—å.',
    { strength: 22, dexterity: 10, luck: 12, endurance: 18 }
  ),

  // –£—Ä–æ–≤–µ–Ω—å 3 - –°–ª–æ–∂–Ω—ã–µ –±–æ—Ç—ã
  createArenaBot(
    'bot-3-1-hard',
    '–õ–µ–≥–µ–Ω–¥–∞ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω',
    3,
    'hard',
    'warrior',
    '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –≤–æ–∏–Ω, –∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É.',
    { strength: 22, dexterity: 16, luck: 14, endurance: 19 }
  ),
  createArenaBot(
    'bot-3-2-hard',
    '–î—Ä–µ–≤–Ω–∏–π –ú–µ—Ä–ª–∏–Ω',
    3,
    'hard',
    'mage',
    '–î—Ä–µ–≤–Ω–∏–π –º–∞–≥ —Å —Ç—ã—Å—è—á–µ–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º.',
    { strength: 14, dexterity: 18, luck: 22, endurance: 16 }
  ),
  createArenaBot(
    'bot-3-3-hard',
    '–¢–µ–Ω–µ–≤–æ–π –£–±–∏–π—Ü–∞',
    3,
    'hard',
    'rogue',
    '–ú–∞—Å—Ç–µ—Ä —Å–∫—Ä—ã—Ç–Ω–æ—Å—Ç–∏ –∏ —Å–º–µ—Ä—Ç–µ–ª—å–Ω—ã—Ö —É–¥–∞—Ä–æ–≤.',
    { strength: 16, dexterity: 22, luck: 20, endurance: 14 }
  )
];

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–æ—Ç–æ–≤ –¥–ª—è –∏–≥—Ä–æ–∫–∞
export const getAvailableArenaBots = (playerLevel: number): ArenaBot[] => {
  return arenaBots.filter(bot => 
    bot.level === playerLevel || bot.level === playerLevel + 1
  );
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ—Ç–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—é –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
export const getArenaBotsByLevelAndDifficulty = (
  level: number, 
  difficulty: ArenaBotDifficulty
): ArenaBot[] => {
  return arenaBots.filter(bot => 
    bot.level === level && bot.difficulty === difficulty
  );
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ—Ç–∞ –ø–æ ID
export const getArenaBotById = (id: string): ArenaBot | undefined => {
  return arenaBots.find(bot => bot.id === id);
};
