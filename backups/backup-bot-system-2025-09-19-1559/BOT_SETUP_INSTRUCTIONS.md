# ü§ñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–∏—Å—Ç–µ–º—ã –±–æ—Ç–æ–≤

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://supabase.com/dashboard
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç

2. **–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor**
   - –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ "SQL Editor"
   - –ù–∞–∂–º–∏—Ç–µ "New query"

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∫–æ–¥**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª: `scripts/apply-bot-system-migration-final.sql`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å** —Å–æ–¥–µ—Ä–∂–∏–º—ã–π —Ñ–∞–π–ª–∞
   - –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
   - –ù–∞–∂–º–∏—Ç–µ "Run" (–∏–ª–∏ Ctrl+Enter)

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã: bot_characters, bot_messages, bot_activity
‚úÖ –§—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã: get_active_bots, update_bot_presence  
‚úÖ –ë–æ—Ç—ã —Å–æ–∑–¥–∞–Ω—ã: –ì–∞—Ä–æld, –ú–µ—Ä–ª–∏–Ω, –õ—É–Ω–∞
```

### –®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
node scripts/test-bot-system.cjs
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
‚úÖ Found 3 bot tables
‚úÖ Found 2 bot functions  
‚úÖ Found 3 bots
‚úÖ Bot system is ready!
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Mistral AI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.mistral.ai/
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –ø–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á

2. **–î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ env.local**
   ```env
   VITE_MISTRAL_API_KEY="your_api_key_here"
   ```

3. **–ë–µ–∑ –∫–ª—é—á–∞ –±–æ—Ç—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fallback –æ—Ç–≤–µ—Ç—ã**

### –®–∞–≥ 5: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
npm run dev
```

## üéØ –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–í —Å–ø–∏—Å–∫–µ –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤** –ø–æ—è–≤—è—Ç—Å—è 3 –±–æ—Ç–∞:
   - –ì–∞—Ä–æld (–í–æ–∏–Ω, 15 —É—Ä.)
   - –ú–µ—Ä–ª–∏–Ω (–ú–∞–≥, 22 —É—Ä.)  
   - –õ—É–Ω–∞ (–õ—É—á–Ω–∏–∫, 18 —É—Ä.)

2. **–í —á–∞—Ç–µ** –±–æ—Ç—ã –±—É–¥—É—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

3. **–°—Ç–∞—Ç—É—Å—ã –±–æ—Ç–æ–≤** –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è—Ç—å—Å—è

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –í –±—Ä–∞—É–∑–µ—Ä–µ:
- –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–û–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–∏"
- –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –±–æ—Ç–æ–≤ –≤ —Å–ø–∏—Å–∫–µ

### –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
```
BotService: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –±–æ—Ç–æ–≤...
BotService: –°–æ–∑–¥–∞–Ω –±–æ—Ç: –ì–∞—Ä–æld
BotService: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ 3 –±–æ—Ç–æ–≤
```

### –í —á–∞—Ç–µ:
- –ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ë–æ—Ç—ã –º–æ–≥—É—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å (50-80% —à–∞–Ω—Å)

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "Could not find the function"
- **–†–µ—à–µ–Ω–∏–µ**: –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é –∑–∞–Ω–æ–≤–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏—Å—å –±–µ–∑ –æ—à–∏–±–æ–∫

### –ë–æ—Ç—ã –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –æ–Ω–ª–∞–π–Ω
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É `user_activity`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏ —Å `user_id` –Ω–∞—á–∏–Ω–∞—é—â–∏–º–∏—Å—è —Å `bot_`

### –ë–æ—Ç—ã –Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç –≤ —á–∞—Ç–µ
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á Mistral
- –ë–µ–∑ –∫–ª—é—á–∞ –±–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ—Å—Ç—ã–µ fallback –æ—Ç–≤–µ—Ç—ã

### –û—à–∏–±–∫–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- **–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ enum `player_status` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –æ–Ω–ª–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞**
2. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç**: `node scripts/test-bot-system.cjs`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Supabase Dashboard** - –µ—Å—Ç—å –ª–∏ —Ç–∞–±–ª–∏—Ü—ã –±–æ—Ç–æ–≤

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:
- ü§ñ 3 —É–º–Ω—ã—Ö –±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏
- üí¨ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã –≤ —á–∞—Ç–µ
- üîÑ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç–∞—Ç—É—Å—ã –∏ –ª–æ–∫–∞—Ü–∏–∏
- üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
